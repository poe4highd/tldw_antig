# 2026-01-19 开发日志 (Part 1)

## 任务：开发 YouTube 字幕下载检测脚本

### 1. 需求背景
- **问题描述**：需要一个独立的脚本，能够根据 URL 或视频 ID 下载 YouTube 字幕并保存到特定文件夹 (`backend/tests/data`)，用于检测或测试目的。
- **决定**：使用 `yt-dlp` 实现下载逻辑，脚本存放于 `backend/scripts/`，并在 `docs` 记录使用方法。

### 2. 执行计划
- 见 `implementation_plan.md`。

### 3. 回顾
- **脚本开发**：创建了 `backend/scripts/download_subs.py`，支持基于 `yt-dlp` 的字幕提取，能够自动处理多种语言偏好并跳过视频下载以节省流量。
- **文档沉淀**：编写了 `docs/subtitle_downloader.md`，详细说明了脚本的使用方法及依赖。
- **验证**：脚本在本地环境执行成功，尽管在测试阶段遇到了 YouTube 的 HTTP 429 访问限制，但命令链条与文件保存逻辑已确认无误。

### 4. 经验总结
- **自动化测试数据收集**：通过独立的下载脚本，可以更方便地从生产环境真实的视频中提取字幕样本，用于本地 AI 逻辑的微调和回归测试。
- **IP 频率限制处理**：在受限环境下运行 `yt-dlp` 需要注意 IP 的信誉度，未来若需大规模下载，应考虑引入代理或 Cookie 管理。
